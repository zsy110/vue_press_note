## 1. 关机和目录结构

```javascript
sync # 将数据由内存同步到硬盘中，不管是重启系统还是关闭系统，首先要运行 sync 命令，把内存中的数据写到磁盘中。
shutdown # 关机指令，你可以man shutdown 来看一下帮助文档。例如你可以运行如下命令关机： 
shutdown –h 10 # 这个命令告诉大家，计算机将在10分钟后关机 
shutdown –h now # 立马关机
shutdown –h 20:25 # 系统会在今天20:25关机 
shutdown –h +10 # 十分钟后关机 
shutdown –r now # 系统立马重启 
shutdown –r +10 # 系统十分钟后重启
reboot # 就是重启，等同于 shutdown –r now
```

**Linux系统目录结构**

**/bin**： bin是Binary的缩写, 这个目录存放着最经常使用的命令。

**/boot**：这里存放的是启动Linux时使用的一些核心文件，包括一些连接文件以及镜像文件。

**/dev** **：** dev是Device(设备)的缩写, 存放的是Linux的外部设备，在Linux中访问设备的方式和访问

文件的方式是相同的。

**/etc**： 这个目录用来存放所有的系统管理所需要的配置文件和子目录。

**/home**：用户的主目录，在Linux中，每个用户都有一个自己的目录，一般该目录名是以用户的账

号命名的。

**/lib**： 这个目录里存放着系统最基本的动态连接共享库，其作用类似于Windows里的DLL文件。

**/lost+found**： 这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。

**/media**：linux系统会自动识别一些设备，例如U盘、光驱等等，当识别后，linux会把识别的设备

挂载到这个目录下。

**/mnt**：系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在/mnt/上，

然后进入该目录就可以查看光驱里的内容了。

**/opt**：这是给主机额外安装软件所摆放的目录。比如你安装一个ORACLE数据库则就可以放到这个

目录下。默认是空的。

**/proc**： 这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获

取系统信息。

**/root**：该目录为系统管理员，也称作超级权限者的用户主目录。

**/sbin**：s就是Super User的意思，这里存放的是系统管理员使用的系统管理程序。

**/srv**：该目录存放一些服务启动之后需要提取的数据。

**/sys**：这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统

sysfs 。

**/tmp**：这个目录是用来存放一些临时文件的。

**/usr**：这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于windows

下的program fifiles目录。

**/usr/bin**：系统用户使用的应用程序。

**/usr/sbin**： 超级用户使用的比较高级的管理程序和系统守护程序。

**/usr/src**: 内核源代码默认的放置目录。

**/var**：这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录

下。包括各种日志文件。

**/run**：是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被

删掉或清除。

## 2. 基本属性

在Linux中我们可以使用 ll 或者 ls –l 命令来显示一个文件的属性以及文件所属的用户和组

如：

```java
/home/mobaxterm/Desktop : ll
-rwx------    1 viruser  UsersGrp         0 Nov 25 10:24 11.txt
-rwx------    1 viruser  UsersGrp      1448 Sep 19 15:04 Another Redis Desktop Manager.lnk
-rwx------    1 viruser  UsersGrp       992 Aug 18 17:06 ApiPost7.lnk
-rwx------    1 viruser  UsersGrp   3499504 Aug 17 14:24 B2B网关服务接入说明文档.docx
-rwx------    1 viruser  UsersGrp      1427 Aug 25 14:16 EdrawMax-1.exe - 快捷方式.lnk
```

在Linux中第一个字符代表这个文件是目录、文件或链接文件等等：

- 当为[ **d** ]则是目录
- 当为[ **-** ]则是文件；
- 若是[ **l** ]则表示为链接文档 ( link fifile )；
- 若是[ **b** ]则表示为装置文件里面的可供储存的接口设备 ( 可随机存取装置 )；
- 若是[ **c** ]则表示为装置文件里面的串行端口设备，例如键盘、鼠标 ( 一次性读取装置 )。

接下来的字符中，以三个为一组，且均为『rwx』 的三个参数的组合。

其中，[ r ]代表可读(read)、[ w ]代表可写(write)、[ x ]代表可执行(execute)。

要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号[ - ]而已。

### 2.1. 文件属性

每个文件的属性由左边第一部分的10个字符来确定（如下图）：

![img](https://img-blog.csdnimg.cn/c19085551a1144d4997b67c1a5191041.png)

Linux文件属性有两种设置方法，一种是数字，一种是符号。

Linux文件的基本权限就有九个，分别是**owner/group/others**三种身份。我们可以使用数字来代表各个权限，各权限的分数对照表如下：

```java
r:4 w:2 x:1
```

当权限为： [-rwxrwx---] 分数则是：

- **owner = rwx = 4+2+1 = 7**
- **group = rwx = 4+2+1 = 7**
- **others= --- = 0+0+0 = 0**

```java
//更改文件属性
chmod 770 filename
```

## 3. 常用基本命令

### 3.1. ls （列出目录）

```java
ls [选项] [目录名]
```

- **-a** ：全部的文件，连同隐藏文件( 开头为 . 的文件) 一起列出来(常用)
- **-l** ：长数据串列出，包含文件的属性与权限等等数据；(常用)

### 3.2. cd （切换目录）

```java
cd    # 进入用户主目录；
cd /  # 进入根目录
cd ~  # 进入用户主目录；
cd ..  # 返回上级目录（若当前目录为“/“，则执行完后还在“/"；".."为上级目录的意思）；
cd ../..  # 返回上两级目录；
```

### 3.3. pwd （显示当前目录）

```java
pwd [-P]
```

- **-P** 打印当前工作目录的物理位置。

### 3.4. mkdir （创建新目录）

```java
mkdir [-mp] 目录名称
```

- **-p** ：帮助你直接将所需要的目录(包含上一级目录)递归创建起来！

```java
 mkdir -p test1/test2/test3/test4
```

- **-m** ：配置文件的权限

```java
## 创建权限为 rwx--x--x 的目录
mkdir -m 711 test2
```

### 3.5. rmdir ( 删除空的目录 )

```java
rmdir [-p] 目录名称
```

- **-p** **：**连同上一级『空的』目录也一起删除

### 3.6. cp ( 复制文件或目录 )

```java
cp [-adfilprsu] 来源档(source) 目标档(destination) 
cp [options] source1 source2 source3 .... directory
```

- **-a**：相当於-pdr 的意思
- **-p**：连同文件的属性一起复制过去，而非使用默认属性(备份常用)；
- **-d**：若来源档为连结档的属性(link fifile)，则复制连结档属性而非文件本身；
- **-r**：递归持续复制，用於目录的复制行为；(常用)
- **-f**：为强制(force)的意思，若目标文件已经存在且无法开启，则移除后再尝试一次；
- **-i**：若目标档(destination)已经存在时，在覆盖时会先询问动作的进行(常用)
- **-l**：进行硬式连结(hard link)的连结档创建，而非复制文件本身。
- **-s**：复制成为符号连结档 (symbolic link)，亦即『捷径』文件；
- **-u**：若 destination 比 source 旧才升级 destination ！

### 3.7. rm ( 移除文件或目录 )

```java
rm [-fir] 文件或目录
```

- **-f** ：就是 force 的意思，忽略不存在的文件，不会出现警告信息；
- **-i** ：互动模式，在删除前会询问使用者是否动作
- **-r** ：递归删除啊！最常用在目录的删除了！这是非常危险的选项！！！

### 3.8. mv ( 移动文件与目录，或修改名称 )

```java
mv [-fiu] source destination
```

- **-f** ：force 强制的意思，如果目标文件已经存在，不会询问而直接覆盖；
- **-i** ：若目标文件 (destination) 已经存在时，就会询问是否覆盖！
- **-u** ：若目标文件已经存在，且 source 比较新，才会升级 (update)

## 4. 文件内容查看

- **cat 由第一行开始显示文件内容**
- **tac 从最后一行开始显示，可以看出 tac 是 cat 的倒著写！**
- nl 显示的时候，顺道输出行号！
- more 一页一页的显示文件内容
- **less 与 more 类似，但是比 more 更好的是，他可以往前翻页！**
- **head 只看头几行**
- **tail 只看尾巴几行**

### 4.1. cat 由第一行开始显示文件内容

```java
cat [-AbEnTv]
```

**-A** ：相当於 -vET 的整合选项，可列出一些特殊字符而不是空白而已；

**-b** ：**列出行号，仅针对非空白行做行号显示，空白行不标行号！**

**-E** ：将结尾的断行字节 $ 显示出来；

**-n** ：**列印出行号，连同空白行也会有行号，与 -b 的选项不同；**

**-T** ：将 [tab] 按键以 ^I 显示出来；

**-v** ：列出一些看不出来的特殊字符

### 4.2. tac 倒着显示文件内容

tac与cat命令刚好相反，文件内容从最后一行开始显示，可以看出 tac 是 cat 的倒着写！

### 4.3. more 一页一页翻动

```java
more [] 
```

- 空白键 (space)：代表向下翻一页；
- Enter ：代表向下翻『一行』；
- /字串 ：代表在这个显示的内容当中，向下搜寻『字串』这个关键字；
- :f ：立刻显示出档名以及目前显示的行数；
- q ：代表立刻离开 more ，不再显示该文件内容。
- b 或 [ctrl]-b ：代表往回翻页，不过这动作只对文件有用，对管线无用。

- -c：不进行滚屏操作。每次刷新这个屏幕

- -<数字>：指定每屏显示的行数；

显示文件file的内容，但在显示之前先清屏，并且在屏幕的最下方显示完成的百分比。

```java
more -dc file
```

显示文件file的内容，每10行显示一次，而且在显示之前先清屏。

```java
more -c -10 file
```

### 4.4. less 一页一页翻动

- 空白键 ：向下翻动一页；
- [pagedown]：向下翻动一页；
- [pageup] ：向上翻动一页；
- /字串 ：向下搜寻『字串』的功能；
- ?字串 ：向上搜寻『字串』的功能；
- n ：重复前一个搜寻 (与 / 或 ? 有关！)
- N ：反向的重复前一个搜寻 (与 / 或 ? 有关！)
- q ：离开 less 这个程序；

### 4.5. head 查看文件前面几行

```java
head [-n] 文件
```

- **-n** :后面接数字，代表显示几行的意思

### 4.6. tail 查看文件后面几行

```java
tail [-nfF] 文件
```

示例

```java
tail -25 mail.log # 显示 mail.log 最后的 25 行
tail -f mail.log # 等同于--follow=descriptor，根据文件描述符进行追踪，当文件改名或被删除，追踪停止
tail -F mail.log # 等同于--follow=name --retry，根据文件名进行追踪，并保持重试，即该文件被删除或改名后，如果再次创建相同的文件名，会继续追踪
```

`tailf`:在屏幕上显示指定文件的末尾若干行内容，通常用于日志文件的跟踪输出。某些Linux安装之后没有这个命令。与`tail -f`不同的是，如果文件不增长，它不会去访问磁盘文件。

## 5. 查找命令

### 5.1. find 在指定目录下查找文件

在`/home`目录下查找以.txt结尾的文件名

```java
find /home -name "*.txt"
```

### 5.2. grep 查找符合条件的字串

在文件中搜索一个单词

```java
grep match_pattern file_name
```

**管道符** **|**

命令1 | 命令2 命令1的执行结果，作为命令2的执行条件

## 6. 压缩命令

### 6.1. tar 压缩和解压缩文件

使用gzip压缩格式对某个目录进行打包操作，显示压缩过程，压缩包规范后缀为.tar.gz：

```java
[root@linuxcool ~]# tar czvf backup1.tar.gz /etc
tar: Removing leading `/' from member names
/etc/
/etc/mtab
/etc/fstab
/etc/crypttab
/etc/resolv.conf
/etc/dnf/
………………省略部分输出信息………………
```

解压某个压缩包到当前工作目录：

```java
[root@linuxcool ~]# tar xvf backup4.tar 
```

## 7. 服务器上传和下载文件

### 7.1. cenos安装sz、rz命令

```java
yum install -y lrzsz
```

### 7.2. rz 上传文件

```java
[root@linuxcool ~]# rz
…………弹出窗口中选择要上传的文件即可…………
```

### 7.3. sz 下载文件

下载指定的某个文件：

```java
[root@linuxcool ~]# sz anaconda-ks.cfg
…………弹出窗口中选择本地保存路径即可…………
```

### 7.4. curl 利用URL规则在命令行下工作的文件传输工具

如果系统没有curl可以使用`yum install curl`安装

选项`-o`将下载数据写入到指定名称的文件中，并使用`--progress`显示进度条：

```java
curl http://example.com/test.txt -o filename.txt --progress
  ######################################### 100.0%
```

## 8. vim编辑器

基本上 vi/vim 共分为三种模式，分别是**命令模式**，**输入模式和底线命令模式**）。 这三种模式的作用分别是：

### 8.1. **命令模式：**

用户刚刚启动 vi/vim，便进入了命令模式。

以下是常用的几个命令：

- **i** 切换到输入模式，在光标处输入字符。
- **a** 切换到输入模式，在光标下一个字符位置以输入字符。
- **x** 删除当前光标所在处的字符。
- **:** 切换到底线命令模式，以在最底一行输入命令。

### 8.2. **输入模式：**

在命令模式下按下i就进入了输入模式。

在输入模式中，可以使用以下按键：

- **ENTER**，回车键，换行
- **BACK SPACE**，退格键，删除光标前一个字符
- **DEL**，删除键，删除光标后一个字符
- **方向键**，在文本中移动光标
- **HOME**/**END**，移动光标到行首/行尾
- **Page Up**/**Page Down**，上/下翻页
- **ESC**，退出输入模式，切换到命令模式

### 8.3. **底线命令模式**

在命令模式下按下:（英文冒号）就进入了底线命令模式。

在底线命令模式中，基本的命令有（已经省略了冒号）**：**

- **q** 退出程序
- **w** 保存文件
- 按**ESC**键可随时退出底线命令模式。

![img](https://img-blog.csdnimg.cn/c19085551a1144d4997b67c1a5191041.png)
